{
  "hash": "cf5c3fa510f33b3f12b037374b8c9e7a",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"MP968 Experimental Design Workshop\"\nauthor: \n  - name: \"Leighton Pritchard\"\n    affiliation: \"University of Strathclyde\"\ndate: \"2025-11-24\"\n\nformat:\n  revealjs:\n    slide-number: true\n    controls: true\n    preview-links: true\n    footer: \"MP968 Experimental Design Workshop\"\n    logo: \"assets/images/sipbs_compbio_800.png\"\n    theme: [default, ./includes/custom.scss]\n    width: 1280\n    height: 720\n    self-contained: true\n    \nrevealjs-plugins:\n  - quiz\n  \n# Location of BibTeX format reference file; may not need to be changed\nbibliography: references.bib\n---\n\n\n::: {.cell}\n\n:::\n\n\n# Why do we need experimental design?\n\n## We should not cause unnecessary suffering\n\n::: { .callout-important title=\"We should always minimise suffering\" }\n**This may mean not performing an experiment at all**. Not all new knowledge or understanding is _worth_ causing suffering to obtain it.\n\nWhere there _is_ sufficient justification to perform an experiment, **we are ethically obliged to minimise the amount of distress or suffering that is caused**, by designing the experiment to achieve this.\n:::\n\n::: { .callout-warning title=\"Why we need statistics\" }\nIt may be easy to tell whether an animal is well-treated, or whether an experiment is necessary.\n\nBut what is an _acceptable_ (i.e. the _least possible_) amount of suffering necessary to obtain an informative result?\n:::\n\n::: { .notes }\n- No-one like talking about animal experiments.\n- It's a difficult, emotive topic that crosses people's moral red lines.\n- Animal experiments may be the only practical way to gain essential scientific knowledge\n- Whatever you believe \"suffering\" means for an animal, our _ethical premise_ is that this suffering should not be in vain\n:::\n\n## Challenge { .quiz-question }\n\n::: { .callout-warning title=\"Quiz question\" }\nSuppose you are running a necessary and useful experiment with animal subjects, where the use of animals is morally justified. You are comparing a treatment group to a control group. **Which of the following choices will cause the least amount of suffering?**\n:::\n\n- [Use three subjects per group so a standard deviation can be calculated]{data-explanation=\"In many cases this is likely to be too few individuals for the result to be reliable\"}\n- [Use just enough subjects to establish that the outcome is likely to be correct]{.correct}\n- [Use just enough subjects to be certain that the outcome is correct]{data-explanation=\"It is often impossible to determine whether the outcome of an experiment is 'correct'.\"}\n- [Use as many subjects as you have available, to avoid wastage]{data-explanation=\"There may be too few individuals available, or more than are required, to obtain a reliable result.\"}\n\n::: { .notes }\nWe carry out experiments to obtain answers to our scientific hypotheses, but the answers we obtain are rarely if ever 100% certain. We usually aim to obtain answers that are very likely to be correct (think about what a statistical hypothesis test means: that the explanation is _more likely_ or _less likely_ to be the null hypothesis than some alternative), rather than 100% certain.\n\nIf we use too few subjects we may still be able to perform a statistical test, but the results of the experiment will be more uncertain and may be more likely to be incorrect than correct. **The use of animal subjects in an experiment that is unlikely to give a correct answer (e.g. because too few animals are used) causes unnecessary suffering**.\n\nIf we attempt to obtain a 100% certain - or nearly so - result we may need to use many more subjects - possibly tens or hundreds more - than are required to obtain a result about which we are (say) 80% certain. **The use of animal subjects to obtain a level of certainty greater than is needed to answer the question reasonably causes unnecessary suffering**.\n\nIf we use the number of subjects that are available, just because it is convenient, then we may not know how likely the experiment is to give us a correct answer. **The use of animal subjects in an experiment where you do not know how likely you are to get a correct answer is likely to cause unnecessary suffering**.\n:::\n\n## How many individuals?\n\n::: { .callout-tip title=\"The appropriate number of subjects\" }\nThe appropriate number of animal subjects to use in an experiment is _always_ the smallest number that - given reasonable assumptions - will satisfactorily give the correct result to the desired level of certainty.\n\n- What assumptions are reasonable?\n- What is an appropriate level of certainty?\n\n**By convention**[^1] the usual level of certainty for a hypothesis test is: \"we have an 80% chance of getting the correct true/false answer for the hypothesis being tested\"\n:::\n\n[^1]: Conventions are guidelines, not rigid standards, and you should always consider whether a convention is appropriate in your use case\n\n::: { .notes }\nThe appropriate number of animal subjects to use in an experiment is _always_ the smallest number that - given reasonable assumptions - will satisfactorily give the correct result to the desired level of certainty.\n\nThis may sound like a very flexible statement. _What assumptions are reasonable? What is an appropriate level of certainty?_\n\nWe'll consider these questions again later but, for now, just know that **_by convention_ the usual level of certainty is: \"we have an 80% chance of getting the correct true/false answer for the hypothesis being tested\"._**\n\nNote though that the appropriate level of certainty may change depending on the nature of the question being asked.\n:::\n\n## Design experiments to minimise suffering\n\n::: { .callout-important title=\"Experimental design and statistics are intertwined\" }\nOnce a research hypothesis has been devised:\n\n- _Experimental design_ is the process of devising a practical way of answering the question\n- _Statistics_ informs the choices of variables, controls, numbers of individuals and groups, and the appropriate analysis of results\n:::\n\n::: { .callout-warning title=\"Design your experiment for…\" }\n- your **population** or subject group (e.g. sex, age, prior history, etc.)\n- your **intervention** (e.g. drug treatment)\n- your **contrast** or comparison between groups (e.g. lung capacity, drug concentration, etc.)\n- your **outcome** (i.e. is there a _measurable_ or _clinically relevant_ effect)\n:::\n\n::: { .notes }\nOnce a research hypothesis has been devised, Experimental Design is the process by which the practical means of answering that question is constructed. The design should aim to exclude extraneous or confounding influences on the experiment such that the causal factors are isolated and measurable, and any difference in outcome as a result of changing those factors (the “signals”) can also be measured cleanly.\n\nStatistics is the branch of applied science that allows us to make probabilistic inferences about our certainty in the “signal” - measurements, comparisons and experimental outcomes - even in the face of natural variations in processes and “noise,” and the way we choose small groups to represent populations.\n\nYou should design your experiment **specifically** for your combination of population/subject group, the intervention you're applying, the contrast or comparison you're making, and the outcome you're expecting to see - specifically a measurable or clinically relevant effect.\n:::\n\n# The 2009 NC3Rs systematic survey\n\n## The importance of experimental design { .smaller }\n\n:::: { .columns }\n\n::: { .column width=\"60%\" }\n> \"For scientific, ethical and economic reasons, **experiments involving animals should be appropriately designed, correctly analysed and transparently reported**. This increases the scientific validity of the results, and maximises the knowledge gained from each experiment. A minimum amount of relevant information must be included in scientific publications to ensure that the methods and results of a study can be reviewed, analysed and repeated. Omitting essential information can raise scientific and ethical concerns.\" (@Kilkenny2009-cn)\n\n::: { .callout-important title=\"We rely on the reporting of the experiment to know if it was appropriate\"}\n:::\n:::\n\n::: { .column width=\"40%\" }\n![](assets/images/kilkenny.png)\n:::\n\n::::\n\n::: { .notes }\nThe National Centre for the Replacement, Refinement, and Reduction of Animals in Research (NC3Rs) was established in 2004 as the UK’s national organisation for the 3Rs (Reduction, Replacement, Refinement). It works with scientists to replace the use of animals by developing new approaches and technologies or, where use of animals is unavoidable, to reduce the number of animals used in each experiment and to minimise any pain, suffering or distress that the animals may experience.\n\nIn 2009, the NC3Rs published a systematic survey (Kilkenny et al. (2009)) of the quality of reporting, experimental design, and statistical analysis of recently-published biomedical research using animals.\n\n**It did not make for pleasant reading.**\n:::\n\n\n\n## Causes for concern 1 { .smaller }\n\n:::: { .columns }\n\n::: { .column width=\"60%\" }\n> \"Detailed information was collected from 271 publications, about the objective or hypothesis of the study, the number, sex, age and/or weight of animals used, and experimental and statistical methods. **Only 59% of the studies stated the hypothesis** or objective of the study and the number and characteristics of the animals used. […]  **Most of the papers surveyed did not use randomisation (87%) or blinding (86%)**, to reduce bias in animal selection and outcome assessment. **Only 70% of the publications that used statistical methods described their methods and presented the results with a measure of error or variability**.\" (@Kilkenny2009-cn)\n:::\n\n::: { .column width=\"40%\" }\n![](assets/images/kilkenny_blinding.png)\n:::\n\n::: { .callout-warning title=\"We cannot rely on the literature for good examples of experimental design\" }\n:::\n\n::::\n\n::: { .notes }\nThe state of the published literature around animal experiments was not good in 2009.\n\n- 40% of studies did not state the hypothesis or objective of the experiment\n- Most papers did not use randomisation or blinding, although this is an essential practice to avoid bias\n- Only 70% of publications described their statistical methods at all\n:::\n\n## Causes for concern 2 { .smaller }\n\n::: { .callout-important title=\"No publication explained their choice for the number of animals used\" }\n![](assets/images/kilkenny_sample_size.png){width=\"55%\" fig-align=\"center\"}\n\n:::\n\n::: { .callout-warning title=\"We cannot rely on the verbal authority of 'published scientists' or 'experienced scientists'\" }\n:::\n\n::: { .notes }\nOne of the most shocking pieces of information is that, of the 48 papers surveyed, **not a single one explained why they used the number of animals that they did**.\n\nWe cannot therefore be assured that the number of animals used was chosen to minimise suffering, or to obtain a statistically justifiable result.\n:::\n\n## Very strong cause for concern { .smaller }\n\n> \"**Power analysis or other very simple calculations**, which are widely used in human clinical trials and are often **expected by regulatory authorities** in some animal studies, can help to determine an appropriate number of animals to use in an experiment in order to detect a biologically important effect if there is one. This is a **scientifically robust and efficient** way of determining animal numbers and may ultimately **help to prevent animals being used unnecessarily**. _Many of the studies that did report the number of animals used reported the numbers inconsistently between the methods and results sections. The reason for this is unclear, but this does pose a significant problem when analysing, interpreting and repeating the results._\" (@Kilkenny2009-cn)\n\n::: { .callout-important }\nAs scientists, you - **yourselves** - need to understand the principles behind the statistical tests you use, in order to choose appropriate tests and methods, and to use appropriate measures to minimise animal suffering and obtain meaningful results.\n\nYou cannot simply rely on the word of \"experienced scientists\" for this.\n:::\n\n\n## The ARRIVE guidelines\n\n:::: { .columns }\n\n::: { .column width=\"70%\" }\nThe next year (@Kilkenny2010-cp) proposed the [ARRIVE guidelines](https://nc3rs.org.uk/our-portfolio/arrive-animal-research-reporting-vivo-experiments): a checklist to help researchers report their animal research transparently and reproducibly.\n\n- Good reporting is essential for peer review and to inform future research\n- Reporting guidelines measurably improve reporting quality\n- Improved reporting maximises the output of published research\n:::\n\n::: { .column width=\"30%\" }\n![](assets/images/arrive.png)\n:::\n\n::::\n\n## ARRIVE guidelines highlightes\n\nMany journals now routinely request information in the ARRIVE framework, often as electronic supplementary information. The framework covers 20 items including the following (@Kilkenny2010-cp):\n\n::: { .callout-tip title=\"ARRIVE guidelines (highlights)\" }\n- 4. **Objectives**: primary and any secondary objectives of the study, or specific hypotheses being tested\n- 6. **Study design**: brief details of the study design, including the number of experimental and control groups, any steps taken to minimise the effects of subjective bias, and the experimental unit\n- 10. **Sample size**: the total number of animals used in each experiment and the number of animals in each experimental group; how the number of animals was decided\n- 13. **Statistical methods**: details of the statistical methods used for each analysis; methods used to assess whether the data met the assumptions of the statistical approach\n- 16. **Outcomes and estimation**: results for each analysis carried out, with a measure of precision (e.g., standard error or confidence interval).\n:::\n\n## A vital step\n\n:::: { .columns }\n\n::: { .column width=\"60%\" }\n::: { .callout-warning }\n\"A key step in tackling these issues is to ensure that the next generation of scientists are aware of what makes for good practice in experimental design and animal research, and **that they are not led into poor or inappropriate practices by more senior scientists without a proper grasp of these issues**.\"\n:::\n\n::: { .callout-tip title=\"Recommended reading\" }\n@Bate_Clark_2014\n:::\n:::\n\n::: { .column width=\"40%\" }\n![](assets/images/bate_and_clark.jpg)\n:::\n\n::::\n\n# Some Statistical Concepts\n\n## Probability distributions\n\nThe probability distribution of a random variable $z$ (e.g. the values you measure in an experiment) takes on some range of values\n\n::: { .callout-tip title=\"The mean of the distribution of $z$\" }\n- The _mean_ (aka _expected value_ or _expectation_) is the average of all the values in $z$\n  - Equivalently: the _mean_ is the value that is obtained **on average** from a random sample from the distribution\n- Written as $\\mu_{z}$ or $E(z)$\n:::\n  \n::: { .callout-tip title=\"The variance of a distribution of $z$\" }\n- The _variance_ of the distribution of $z$ represents the _expected_ mean squared difference from the mean $\\mu_z$ (or $E(z)$) of a random sample from the distribution.\n  - $\\textrm{variance} = E((z - \\mu_z)^2)$\n:::\n\n::: { .notes }\n- A probability distribution describes the range of values that a random variable - let's call it $z$ - takes.\n  - You can think of $z$ being a single ball drawn from a bag containing an infinite number of balls, each ball with a number written on it\n- Probability distributions can describe many measures, including\n  - heights of men, incomes of women, political party preference, and so on\n- The _mean_ of a probability distribution - its _expected value_ or _expectation_ is the average of all numbers in the distribution\n  - This may be infinite, and there is an equivalent definition: the _mean_ is the value obtained _on average_ from a random sample taken from the distribution\n- The _variance_ of a probability distribution expresses how much the individual values might differ from that mean.\n  - Variance is defined as the _mean_ of the **square of the difference between each individual value in the distribution and the mean of the distribution**\n:::\n\n## Understanding variance\n\n::: { .callout-caution title=\"A distribution where all values of $z$ are the same\" }\n- Every single value in the distribution ($z$) is also the mean value ($\\mu_z$), therefore\n\n$$z - \\mu_z = 0 \\implies (z - \\mu_z)^2 = 0$$\n$$\\textrm{variance} = E((z - \\mu_z)^2) = E(0^2) = 0$$\n\n:::\n\n::: { .callout-tip title=\"All other distributions\" }\nIn **every** other distribution, there are some values of $z$ that differ so, for at least some values of $z$\n\n$$z - \\mu_z \\neq 0 \\implies (z - \\mu_z)^2 \\gt 0 $$\n$$\\implies \\textrm{variance} = E((z - \\mu_z)^2) \\gt 0 $$\n\n:::\n\n::: { .notes }\n- To get some intuition about the idea of variance, imagine that you have a set of values $z$ that are all the same.\n- If they are all the same, then they all have the same value as the _mean_ of the distribution, and $z - \\mu_z = 0$\n- This means that, for all $z$, $(z - \\mu_z)^2$ is also zero, and the variance is zero.\n- But if any value of $z$ is different then, for at least that value, $z - \\mu_z \\neq 0$, so the square of that value is greater than zero. It follows that the variance must then be greater than zero: $E((z - \\mu_z)^2) \\gt 0$\n- In any dataset you meet, the variance is going to take a positive value\n:::\n\n## Standard deviation\n\n::: { .callout-warning title=\"What is standard deviation?\" }\nThe _standard deviation_ is the square root of the variance\n\n$$\\textrm{standard deviation} = \\sigma_z = \\sqrt{\\textrm{variance}} = \\sqrt{E((z - \\mu_z)^2)} $$\n:::\n\n::: { .callout-tip title=\"Advantages\" }\n- The _standard deviation_ (unlike variance) is on the same scale as the original distribution\n  - Standard deviation is a more \"natural-seeming\" interpretation of variation\n:::\n\n::: { .callout-note }\nWe can calculate _mean_, _variance_, and _standard deviation_ for **any** probability distribution.\n:::\n\n::: { .notes }\n- You are probably more familiar with the _standard deviation_ of a distribution.\n- The standard deviation is on the same kind of scale as the values of the distribution, which makes this an easier value to interpret than the variance\n:::\n\n## Normal Distribution 1\n\n$$ z \\sim \\textrm{normal}(\\mu_z, \\sigma_z) $$\n\n::: { .callout-note }\nWe only need to know the mean and standard deviation to define a unique normal distribution\n:::\n\n::: { .callout-tip }\nMeasurements of variables whose value is the sum of many small, independent, additive factors may follow a normal distribution\n:::\n\n::: { .callout-important }\n**There is no reason to expect that a random variable representing direct measurements in the world will be normally distributed!**\n:::\n\n::: { .notes }\n- You may see the normal distribution written like this, as \"z is distributed as the Normal distribution with mean $\\mu_z$ and standard deviation $\\sigma_z$.\"\n  - We only need to know the mean and standard deviation to define a unique normal distribution\n- Values we measure in the real world should follow an approximate normal distribution if each measured value is the sum of many small, independent, additive factors\n  - This is a consequence of the Central Limit Theorem\n- **But there is no reason to expect that any random variable representing direct measurement will have this property, or follow a normal distribution**\n  - This is especially the case if there is a large factor affecting variation of the variable\n:::\n\n## Normal Distribution 2\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-revealjs/norm_density-1.png){width=960}\n:::\n:::\n\n\n::: { .notes }\n- As an example, we can look at some real data, the heights of men and women in the US.\n  - Here we have counts of individuals whose heights are measured to the nearest inch\n- These are two different _random variables_: one for men, one for women\n- For both distributions, we can calculate a mean, and a standard deviation (or variance)\n  - Therefore we can calculate a normal distribution representing both men's and women's heights (orange curve)\n  - We calculate the mean heights for men and women (63.7 and 69.1 inches), and also the standard deviations (2.7 and 2.9 inches)\n- The distributions of heights for each sex, separately, follow an approximate normal distribution\n:::\n\n## Normal Distribution 3\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-revealjs/all_heights-1.png){width=960}\n:::\n:::\n\n\n::: { .notes }\n- By contrast, the distribution of heights of _all_ adults in the US is not close to a normal curve\n- This is because there is an extraneous factor, **sex**, that represents much of the total variation in values\n  - We will come back to this idea later\n:::\n\n## Binomial Distribution 1\n\n:::: { .columns }\n\n::: { .column width=\"60%\" }\nSuppose you're taking shots in basketball\n\n- how many shots?\n- how likely are you to score?\n- what is the distribution of the number of successful shots?\n\n::: { .callout-tip }\nThis kind of process generates a random variable approximating a probability distribution called a **binomial distribution**.\n\nIt is different from a normal distribution.\n:::\n\n:::\n\n::: { .column width=\"40%\" }\n![](assets/images/basketball.png)\n:::\n\n::::\n\n::: { .notes }\n- If you take a bunch of basketball shots, each one has some probability of succeeding\n- The number of successful shots is going to depend on the number of shots you take, and how likely you are to score\n  - Michael Jordan is much more likely to score any individual attempt than I am\n- The number of successful shots is a random variable with a probability distribution\n\n- This kind of process generates a probability distribution that approximates the **binomial distribution**\n  - It's the same one you get for coin tosses (or any yes/no process)\n- It is different from a normal distribution\n  - So, if your underlying biological process resembles coin tosses or basketball shots, you need to be using an appropriate statistical test\n:::\n\n## Binomial Distribution 2\n\n:::: { .columns }\n\n::: { .column width=\"60%\" }\n$$ z \\sim \\textrm{binomial}(n, p) $$\n\n::: { .callout-tip }\n- number of shots, $n = 20$\n- probability of scoring, $p = 0.3$\n\n$$z \\sim \\textrm{binomial}(20, 0.3) $$\n:::\n\n::: { .callout-caution title=\"mean and sd\"}\n$$ \\textrm{mean} = n \\times p$$\n$$ \\textrm{sd} = \\sqrt{n \\times p \\times (1-p)}$$\n:::\n\n:::\n\n::: { .column width=\"40%\" }\n![](assets/images/basketball.png)\n:::\n\n::::\n\n::: { .notes }\n- Imagine you took 20 shots at basketball, and had a probability of 0.3 of scoring any one shot\n- The distribution of shots you scored would follow a binomial distribution with $n=20$ and $p=0.3$\n- You'd expect to score, on average, $20 \\times 0.3 = 6$ times\n- The standard deviation we'd expect would be $\\sqrt{20 \\times 0.3 \\times (1 - 0.3)} = \\sqrt{6 \\times (0.7)} = \\sqrt{4.2} = 2.05$\n  - So you'd expect to score about 4 to 8 shots, most of the time\n:::\n\n## Poisson distribution\n\n$$z \\sim \\textrm{poisson}(\\lambda)$$\n\n::: { .callout-tip title=\"Poisson distribution\" }\n- Used for count/rate data, e.g.\n  - the number of cases of cancer in a county\n  - the number of [Ca<sup>2+</sup>] spikes in a given time period\n:::\n\n::: { .callout-important title=\"Expectation ($\\lambda$)\"}\n- Only one parameter is provided, $\\lambda$: the rate with which the measured event happens\n\n- Suppose a county has population 100,000, and average rate of cancer is 45.2mn people each year\n  \n\n$$z \\sim \\textrm{poisson}(45,200,000/100,000) = \\textrm{poisson}(4.52) $$\n:::\n\n::: { .notes }\n- Count or rate data, i.e. discrete events that happen in a given duration, volume or area, generate the _Poisson distribution_\n- Examples of this kind of data include the number of cases of cancer in a county, the number of red cars you see on your journey into university, or the number of calcium concentration spikes you count in a survey period.\n\n- The distribution takes only one parameter: the **expectation**, lambda\n:::\n\n## Binomial and Poisson distributions\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](index_files/figure-revealjs/binomial_poisson-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n::: { .callout-important title=\"All values are positive whole numbers\"}\n:::\n\n::: { .notes }\n- Binomial and poisson distributions are quite closely related, and they look like this for the indicated parameter settings\n\n- For binomial distributions the expected successes shift rightwards as the probability of success increases, and as the number of attempts increases\n  - More attempts also increases the variance of the distribution\n\n- For poisson distributions, the peak of the distribution shifts rightwards as the expectation increases in value\n\n- **In both cases, all values - counts/rates or successes - are positive whole numbers**\n:::\n\n## Distributions in Practice\n\n::: { .callout-caution title=\"Distributions are starting points\" }\n- Distributions arise from and represent distinct _generation processes_\n  - Normal distributions are good for sums, differences, and averages\n  - Poisson distributions are good for counts\n  - Binomial distributions are good for success/failure outcomes\n:::\n\n::: { .callout-warning }\n- All statistical distributions are **idealisations that ignore many features of real data**\n- No real world data should be expected to exactly match _any_ statistical distribution\n- Poisson models tend to need adjustment for _overdispersion_\n:::\n\n::: { .notes }\n- The different distributions we've looked at arise from distinct generation processes that have parallels in the real world\n  - Normal distributions arise when independent values are summed, or we take differences or averages of them\n  - Poisson distributions arise from counts, or rates (i.e. counts per unit)\n  - Binomial distributions arise from success/failure outcomes like tossing a coin\n  \n- We need to take care though, as these distributions are idealised outcomes from those processes\n- In the real world there are many other influences that cause collected data to deviate from these idealisations\n  - There is **no reason** to expect real world data to exactly match _any_ statistical distribution\n  - Though there are some principles: we ought not to use a normal distribution to model count data (as the normal distribution can drop below zero where counts cannot)\n:::\n\n# References\n\n## References",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}